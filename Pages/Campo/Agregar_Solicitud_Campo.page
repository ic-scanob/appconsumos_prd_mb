{
	"Controls": [
		{
			"FilterFeedbackBar": {
				"ShowAllFilters": false,
				"_Type": "Control.Type.FilterFeedbackBar"
			},
			"_Type": "Control.Type.SectionedTable",
			"_Name": "SectionedTable0",
			"Sections": [
				{
					"ObjectHeader": {
						"Subhead": "No. Res: {reserva}",
						"Footnote": "/appconsumos_mb/Rules/formatOrdenId.js",
						"Description": "{orden_desc}",
						"SubstatusText": "Centro: {#Page:Filtro_Campo/#Control:almacen_campo/#Value/#First/BindingObject/centro}",
						"DetailImageIsCircular": false,
						"Tags": [
							"#Page:Main/#ClientData/info_user/correo"
						],
						"BodyText": "{equipo} - {equipo_desc} ",
						"HeadlineText": "Almacen: {#Page:Filtro_Campo/#Control:almacen_campo/#Value/#First/BindingObject/almacen} - {#Page:Filtro_Campo/#Control:almacen_campo/#Value/#First/BindingObject/almacen_desc}",
						"StatusPosition": "Stacked",
						"StatusImagePosition": "Leading",
						"SubstatusImagePosition": "Leading"
					},
					"_Type": "Section.Type.ObjectHeader",
					"_Name": "SectionObjectHeader0",
					"Visible": true
				},
				{
					"Separators": {
						"TopSectionSeparator": false,
						"BottomSectionSeparator": true,
						"HeaderSeparator": true,
						"FooterSeparator": true,
						"ControlSeparator": true
					},
					"Controls": [
						{
							"_Type": "Control.Type.FormCell.SimpleProperty",
							"_Name": "ficha",
							"IsVisible": true,
							"Separator": false,
							"Caption": "Ficha Técnico *",
							"PlaceHolder": "Ingresa el número de ficha",
							"KeyboardType": "Number",
							"AlternateInput": "Barcode",
							"Enabled": true,
							"IsEditable": true
						},
						{
							"_Type": "Control.Type.FormCell.Note",
							"_Name": "observaciones",
							"IsVisible": true,
							"Separator": false,
							"Caption": "Observaciones",
							"PlaceHolder": "Ingresa observaciones en la solicitud",
							"MinNumberOfLines": 3,
							"Enabled": true,
							"IsEditable": true
						},
						{
							"_Type": "Control.Type.FormCell.SimpleProperty",
							"_Name": "horometro",
							"IsVisible": true,
							"Separator": true,
							"Caption": "Horometro",
							"PlaceHolder": "Ingrese el horometro del equipo",
							"KeyboardType": "Number",
							"AlternateInput": "Barcode",
							"Enabled": true,
							"IsEditable": true
						},
						{
							"Value": true,
							"_Type": "Control.Type.FormCell.Switch",
							"_Name": "switch_reabastecer",
							"IsVisible": true,
							"Separator": true,
							"Caption": "¿Reabastecer Automáticamente?",
							"HelperText": "Marca esta opción para que, al autorizar la solicitud, se genere automáticamente una solicitud de abastecimiento con los materiales consumidos.",
							"IsEditable": true
						}
					],
					"Layout": {
						"NumberOfColumns": 1
					},
					"Visible": true,
					"EmptySection": {
						"FooterVisible": false
					},
					"_Type": "Section.Type.FormCell",
					"_Name": "SectionFormCell1"
				},
				{
					"Separators": {
						"TopSectionSeparator": false,
						"BottomSectionSeparator": true,
						"HeaderSeparator": true,
						"FooterSeparator": true,
						"ControlSeparator": true
					},
					"Controls": [
						{
							"_Type": "Control.Type.FormCell.Label",
							"_Name": "FormCellLabel0",
							"IsVisible": true,
							"Separator": true,
							"Text": "Agregar Material",
							"TextWrap": true
						},
						{
							"_Type": "Control.Type.FormCell.ListPicker",
							"_Name": "material",
							"IsVisible": true,
							"Separator": false,
							"AllowMultipleSelection": false,
							"AllowEmptySelection": true,
							"Caption": "Material *",
							"Label": "Selecciona un material",
							"DataPaging": {
								"ShowLoadingIndicator": false,
								"PageSize": 50
							},
							"PickerPrompt": "Seleciona un material",
							"HelperText": "Verifica que el material seleccionado provenga del almacén donde se realizó el consumo.",
							"IsSelectedSectionEnabled": false,
							"IsPickerDismissedOnSelection": true,
							"AllowDefaultValueIfOneItem": false,
							"IsEditable": true,
							"Search": {
								"Mode": "Persistent",
								"AdditionalProperties": [
									"material",
									"material_desc"
								],
								"Enabled": true,
								"Placeholder": "Buscar Material...",
								"BarcodeScanner": true
							},
							"PickerItems": {
								"Target": {
									"Service": "/appconsumos_mb/Services/app_consumos_prd.service",
									"EntitySet": "Inventario",
									"QueryOptions": "$expand=almacen,und&$filter=almacen/tipo eq 'CAMPO' and almacen_sociedad eq '{{#Page:Filtro_Campo/#Control:almacen_campo/#Value/#First/BindingObject/sociedad}}'&$orderby=almacen_almacen",
									"ReadLink": "{@odata.readLink}"
								},
								"ObjectCell": {
									"Description": "{material_desc}",
									"DisplayDescriptionInMobile": true,
									"Footnote": "Disponible: {stock_disponible} {und/und_vz} / Reservado: {stock_disponible} {und/und_vz}",
									"PreserveIconStackSpacing": false,
									"Subhead": "{almacen/almacen} - {almacen/almacen_desc}",
									"Title": "/appconsumos_mb/Rules/formatMaterialId.js",
									"Visible": true
								},
								"ReturnValue": "{almacen/almacen_desc} - {material}"
							}
						},
						{
							"_Type": "Control.Type.FormCell.SimpleProperty",
							"_Name": "cantidad",
							"IsVisible": true,
							"Separator": false,
							"Caption": "Cantidad *",
							"PlaceHolder": "Ingresa la cantidad del material",
							"KeyboardType": "Number",
							"AlternateInput": "None",
							"HelperText": "Debe ser un número mayor a 0",
							"Enabled": true,
							"IsEditable": true
						},
						{
							"_Type": "Control.Type.FormCell.Button",
							"_Name": "FormCellButton0",
							"IsVisible": true,
							"Separator": false,
							"Styles": {
								"Image": "Button",
								"Button": "Button"
							},
							"Title": "Agregar Material",
							"Alignment": "Right",
							"ButtonType": "Text",
							"Semantic": "Tint",
							"Image": "sap-icon://add-product",
							"ImagePosition": "Leading",
							"Enabled": true,
							"OnPress": "/appconsumos_mb/Rules/Campo/Agregar_Materiales_Solicitud.js"
						}
					],
					"Layout": {
						"NumberOfColumns": 1
					},
					"Visible": true,
					"EmptySection": {
						"FooterVisible": false
					},
					"_Type": "Section.Type.FormCell",
					"_Name": "SectionFormCell0"
				},
				{
					"Header": {
						"_Type": "SectionCommon.Type.Header",
						"_Name": "SectionCommonTypeHeader0",
						"AccessoryType": "None",
						"UseTopPadding": true,
						"Caption": "Materiales de la Solicitud"
					},
					"Separators": {
						"TopSectionSeparator": false,
						"BottomSectionSeparator": true,
						"HeaderSeparator": true,
						"FooterSeparator": true,
						"ControlSeparator": true
					},
					"Grouping": {
						"GroupingProperties": [],
						"Header": {
							"Items": []
						}
					},
					"_Type": "Section.Type.ObjectTable",
					"Target": "/appconsumos_mb/Rules/Campo/Target_Lista_Materiales.js",
					"_Name": "SectionObjectTable0",
					"Visible": true,
					"EmptySection": {
						"Caption": "No hay materiales aún",
						"FooterVisible": false
					},
					"ObjectCell": {
						"ContextMenu": {
							"Items": [],
							"PerformFirstActionWithFullSwipe": true,
							"LeadingItems": [],
							"TrailingItems": [],
							"_Type": "ObjectCell.Type.ContextMenu"
						},
						"Title": "/appconsumos_mb/Rules/formatMaterialId.js",
						"Subhead": "Tomado de: {almacen/almacen_desc} ({almacen/almacen})",
						"Description": "{material_desc}",
						"DisplayDescriptionInMobile": true,
						"StatusText": "Cant: {cant} de {stock_disponible} {und/und_vz}",
						"PreserveIconStackSpacing": false,
						"AccessoryType": "DetailButton",
						"AccessoryButtonIcon": "sap-icon://delete",
						"AccessoryButtonText": "Borrar",
						"Tags": [],
						"AvatarStack": {
							"Avatars": [
								{
									"Image": "sap-icon://product"
								}
							],
							"ImageIsCircular": true,
							"ImageHasBorder": false
						},
						"AvatarGrid": {
							"Avatars": [],
							"ImageIsCircular": true
						},
						"OnAccessoryButtonPress": "/appconsumos_mb/Rules/Campo/Borrar_Material_Lista.js",
						"_Type": "ObjectTable.Type.ObjectCell",
						"Selected": false
					},
					"Search": {
						"Mode": "Expandable",
						"Enabled": true,
						"Placeholder": "Buscar Material..."
					},
					"DataPaging": {
						"ShowLoadingIndicator": false,
						"PageSize": 50
					},
					"HighlightSelectedItem": false,
					"Selection": {
						"ExitOnLastDeselect": true,
						"LongPressToEnable": "None",
						"Mode": "None"
					}
				}
			]
		}
	],
	"_Type": "Page",
	"_Name": "Agregar_Solicitud_Campo",
	"ActionBar": {
		"Items": [
			{
				"_Type": "Control.Type.ActionBarItem",
				"_Name": "ActionBarItem0",
				"Caption": "close",
				"Icon": "sap-icon://decline",
				"Position": "Right",
				"IsIconCircular": false,
				"Visible": true,
				"OnPress": {
					"Name": "/appconsumos_mb/Actions/GenericMessageBox.action",
					"Properties": {
						"Message": "¿Estás seguro que quieres salir?",
						"Title": "Confirmación",
						"OKCaption": "Aceptar",
						"OnOK": {
							"Name": "/appconsumos_mb/Actions/CloseModalPage_Cancel.action",
							"Properties": {
								"NavigateBackToPage": "Detalle_Orden_Campo"
							}
						},
						"CancelCaption": "Cancelar"
					}
				}
			}
		],
		"_Name": "ActionBar2",
		"_Type": "Control.Type.ActionBar",
		"Caption": "Solicitud de Formalización"
	},
	"FioriToolbar": {
		"_Type": "Control.Type.FioriToolbar",
		"_Name": "FioriToolbar0",
		"Items": [
			{
				"_Type": "FioriToolbarItem.Type.Button",
				"_Name": "ToolbarItem0",
				"Visible": true,
				"Title": "Crear Formalización Campo",
				"Styles": {
					"Image": "Button2",
					"Button": "Button2"
				},
				"OnPress": "/appconsumos_mb/Rules/Campo/Validate_Req_Create_Solicitud_Campo.js",
				"Image": "sap-icon://save",
				"Enabled": true,
				"ButtonType": "Primary",
				"Semantic": "Tint",
				"ImagePosition": "Leading"
			}
		]
	}
}